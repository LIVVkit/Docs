<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Extensions &#8212; LIVVkit 2.1.0 documentation</title>
    <link rel="stylesheet" href="_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Development" href="dev.html" />
    <link rel="prev" title="Usage" href="usage.html" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <link rel="shortcut icon" type="image/png" href="_static/favicon.png" />
    <meta name="viewport" content="width=device-width,initial-scale=0.8">
    
    

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="responsive-menu"><a href="#sidebar-anchor" title="Navigation">&#9776;</a></li>
        <li><a href="index.html">LIVVkit 2.1.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    
        <div class="badge">
            <a href="https://github.com/LIVVkit/LIVVkit">Fork me on GitHub</a>
            <img src="_static/right-red@2x.png">
        </div>
    
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="figure align-center">
<a class="reference internal image-reference" href="_images/livvkit.png"><img alt="LIVVkit" src="_images/livvkit.png" style="width: 400px;" /></a>
</div>
<div class="section" id="extensions">
<h1>Extensions<a class="headerlink" href="#extensions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="adding-tests-to-numerics-or-validation">
<h2>Adding Tests to Numerics or Validation<a class="headerlink" href="#adding-tests-to-numerics-or-validation" title="Permalink to this headline">¶</a></h2>
<p>Inevitably the standard provided test cases provided by LIVVkit will not fit the needs of new
scientific questions.  With this in mind, it is possible to add new sets of analyses into LIVVkit.
We provide an extensible structure for the numerics and validation components, which are most likely
to change over time. Extending the software verification component, however, requires modifying the
component module itself.</p>
<p>Like the implementation of new bundles we provide templates for each class of test that can be used
to extend LIVVkit to your analysis.  A new test consists of a configuration file and a Python module
that implements the <code class="docutils literal"><span class="pre">run</span></code> method, which takes a string and a dictionary as inputs.  These refer to
the name of the test and the data extracted from the configuration file, respectively.</p>
<p>Within the configuration file there is a required entry pointing to the module that contains the
<code class="docutils literal"><span class="pre">run</span></code> method described above.  It should be entered as you would import it from within Python
itself.  In principle you can add the location of your module to your <code class="docutils literal"><span class="pre">PYTHONPATH</span></code>, but the
recommended method of including new analyses into LIVVkit is to either put them in the
<code class="docutils literal"><span class="pre">components/validation_tests</span></code> or <code class="docutils literal"><span class="pre">components/numerics_tests</span></code> or create a symlink to those
locations.</p>
<p>When the analysis has been wrapped into these two files it can be run from the command line by
providing the <code class="docutils literal"><span class="pre">--validation</span></code> argument followed by the path to the configuration file.</p>
</div>
<div class="section" id="including-new-models">
<h2>Including New Models<a class="headerlink" href="#including-new-models" title="Permalink to this headline">¶</a></h2>
<p>Adding new models requires a new implementation in the <code class="docutils literal"><span class="pre">bundles</span></code> directory.  Within the
<code class="docutils literal"><span class="pre">bundles</span></code> directory there is a <code class="docutils literal"><span class="pre">template</span></code> directory that can be copied when adding compatibility
for a new model – the name of the new directory should indicate the model being added (e.g.,
<code class="docutils literal"><span class="pre">cism_albany</span></code>, <code class="docutils literal"><span class="pre">mpas_li</span></code>).</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The bundle’s name needs to follow the python naming convention for a python package (see
<span class="target" id="index-0"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0008#package-and-module-names"><strong>PEP 8#package-and-module-names</strong></a>).</p>
</div>
<p>The template directory provides sample modules with function stubs that can
be filled in to provide a drop in way to use each component (verification, performance, numerics,
and validation).  These functions primarily are used to accommodate for model-specific
implementations of things such as parsing log files, assimilating timing data, and arranging data
onto standard grids.</p>
<p>In addition to implementing component specific modules, each bundle must provide component level
configuration files to provide information about which test cases are run, file and variable naming
schemes, and data locations.</p>
<p>When the new bundle has been implemented and placed in the <code class="docutils literal"><span class="pre">bundles</span></code> directory it will
automatically be registered by LIVVkit at runtime. It is important to note that in order to use
LIVVkit on a new model it will also have to conform to the standards described in the
<a class="reference internal" href="usage.html#input-hierarchy"><span class="std std-ref">Model Output/LIVVkit Input Hierarchy</span></a> section (above).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is critical that the <code class="docutils literal"><span class="pre">model_variant</span></code> directory name is the same as the directory name that
you have implemented in <code class="docutils literal"><span class="pre">bundles</span></code>.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    <a id="sidebar-anchor"></a>
    

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3><a href="index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="vv-intro.html">Introduction to V&amp;V</a></li>
<li class="toctree-l1"><a class="reference internal" href="design.html">Design Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Extensions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#adding-tests-to-numerics-or-validation">Adding Tests to Numerics or Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#including-new-models">Including New Models</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dev.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref.html">References and indices</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/extend.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="dev.html" title="Development"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="usage.html" title="Usage"
             accesskey="P">previous</a> |</li>
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Joseph H. Kennedy, Andrew R. Bennett, Katherine J. Evans.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
  </body>
</html>